databaseChangeLog:
  - changeSet:
      id: create face table
      author: Maryna Misachenka
      changes:
        # face
        - createTable:
            tableName: face
            columns:
              - column:
                  name: id
                  type: bigint
              - column:
                  name: face_name
                  type: varchar(255)
              - column:
                  name: api_key
                  type: varchar(36)
              - column:
                  name: embeddings
                  type: jsonb
              - column:
                  name: raw_img_fs
                  type: bytea
              - column:
                  name: face_img_fs
                  type: bytea
        - addPrimaryKey:
            columnNames: id
            constraintName: pk_face
            tableName: face

        - createSequence:
            sequenceName: face_id_seq
            
        - addForeignKeyConstraint:
            baseColumnNames: api_key
            baseTableName: face
            referencedColumnNames: api_key
            referencedTableName: model
            constraintName: fk_api_key
            onDelete: CASCADE
            onUpdate: CASCADE
